{% extends 'base.html' %}

{% block title %}Accueil - Radio Marbial FM 99.5{% endblock %}
{% load static %}

{% block content %}


<!-- Hero Section -->
<section class="hero" id="home">
  <div class="hero-content">
      <h1 class="hero-title">Bienvenue sur Radyo Mabyal FM</h1>
      <p class="hero-subtitle">Votre radio pr√©f√©r√©e qui vous connecte √† la musique, l'information et le divertissement 24h/24</p>
      <div class="hero-buttons">
          <a href="{% url 'direct' %}" class="btn btn-primary" id="listen-live">√âcouter en Direct</a>
          <a href="{% url 'emissions' %}" class="btn btn-secondary">Explorer nos √©missions</a>
      </div>
  </div>
  <div class="visualizer" id="visualizer">
      <!-- Bars will be generated by JS -->
  </div>
  
</section>

 <!-- Player Section -->
 <section class="player-section">
  <div class="container">
      <div class="player-container">
          <div class="now-playing">
              <div class="album-art">
                  <div class="live-indicator">EN DIRECT</div>
              </div>
              <div class="track-info">
                  <h3 class="track-title">Matinale Mabyal</h3>
                  <p class="track-artist">Avec Jean Dupont</p>
              </div>
          </div>
          <div class="player-controls">
              <button class="control-btn">
                  <i class="fas fa-step-backward"></i>
              </button>
              <button class="control-btn play-btn" id="play-btn">
                  <i class="fas fa-play" id="play-icon"></i>
              </button>
              <button class="control-btn">
                  <i class="fas fa-step-forward"></i>
              </button>
          </div>
          <div class="volume-control">
              <div class="volume-icon">
                  <i class="fas fa-volume-up"></i>
              </div>
              <div class="volume-slider">
                  <div class="volume-level"></div>
                  <div class="volume-handle"></div>
              </div>
          </div>
      </div>
  </div>
  <div class="progress-container">
      <div class="progress-bar">
          <div class="progress-handle"></div>
      </div>
  </div>
  <div class="time-info">02:15 / 05:30</div>
</section>




  

  <!-- Section Nos √âmissions -->
  <section class="container my-5" id="emissions">
    <h2 class="text-center text-primary mb-4">üéôÔ∏è Nos √âmissions</h2>
    <div class="row">
      {% for emission in emissions %}
        <div class="col-lg-4 col-md-6 mb-4">
          <div class="card shadow-sm border-0 rounded-4">
            {% if emission.image %}
              <img src="{{ emission.image.url }}" alt="{{ emission.titre }}" class="card-img-top rounded-top-4">
            {% else %}
              <img src="https://via.placeholder.com/400x250?text=Pas+d'image" alt="Image par d√©faut" class="card-img-top rounded-top-4">
            {% endif %}
            <div class="card-body">
              <h5 class="card-title">{{ emission.titre }}</h5>
              <p class="card-text">{{ emission.description|truncatewords:20 }}</p>
              <a href="{% url 'emission_detail' emission.id %}" class="btn btn-outline-primary w-100">En savoir plus</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </section>

  <!-- Section Podcasts -->
  <section class="container my-5" id="podcasts">
    <h2 class="text-center text-primary mb-4">üéß Nos Podcasts</h2>
    <div class="row">
      {% for podcast in podcasts %}
        <div class="col-lg-4 col-md-6 mb-4">
          <div class="card shadow-sm border-0 rounded-4">
            <div class="card-body">
              <h5 class="card-title">{{ podcast.titre }}</h5>
              <p class="card-text">{{ podcast.description|truncatewords:20 }}</p>
              {% if podcast.audio_file %}
                <audio controls class="w-100">
                  <source src="{{ podcast.audio_file.url }}" type="audio/mpeg">
                  <source src="{{ podcast.audio_file.url }}" type="audio/ogg">
                  <source src="{{ podcast.audio_file.url }}" type="audio/wav">
                  <source src="{{ podcast.audio_file.url }}" type="audio/aac">
                  Votre navigateur ne supporte pas l'√©l√©ment audio.
                </audio>
              {% endif %}
              <a href="{% url 'podcast_detail' podcast.id %}" class="btn btn-outline-primary w-100 mt-3">√âcouter le Podcast</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </section>

  <!-- Section Parrains -->
  <section class="container my-5" id="parrains">
    <h2 class="text-center text-primary mb-4">Nos Parrains</h2>
    <div class="row">
      {% for parrain in parrains %}
        <div class="col-lg-3 col-md-4 mb-4">
          <div class="card shadow-sm border-0 rounded-4">
            {% if parrain.logo %}
              <img src="{{ parrain.logo.url }}" alt="{{ parrain.nom }}" class="card-img-top rounded-top-4">
            {% else %}
              <img src="https://via.placeholder.com/200x200?text=Logo" alt="Image par d√©faut" class="card-img-top rounded-top-4">
            {% endif %}
            <div class="card-body">
              <h5 class="card-title">{{ parrain.nom }}</h5>
              <p class="card-text">{{ parrain.type_parrainage }}</p>
              <a href="{% url 'parrain_detail' parrain.id %}" class="btn btn-outline-primary w-100">Voir les D√©tails</a>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  </section>

</div>
{% endblock %}

